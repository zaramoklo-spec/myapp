<!DOCTYPE html>
<html lang="hi" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#6200EA">
    <title>Payment Success</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lottie-web/5.9.6/lottie.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
            font-family: 'Poppins', sans-serif;
        }
        html, body {
            width: 100%;
            height: 100%;
            overflow: hidden;
        }
        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }
        .confetti {
            position: fixed;
            width: 6px;
            height: 6px;
            background: #FF69B4;
            animation: confettiFall 3s linear infinite;
            opacity: 0;
        }
        .confetti:nth-child(1) { left: 10%; background: #FF69B4; animation-delay: 0s; }
        .confetti:nth-child(2) { left: 20%; background: #6200EA; animation-delay: 0.3s; }
        .confetti:nth-child(3) { left: 30%; background: #FFD700; animation-delay: 0.6s; }
        .confetti:nth-child(4) { left: 40%; background: #E91E63; animation-delay: 0.9s; }
        .confetti:nth-child(5) { left: 50%; background: #7C4DFF; animation-delay: 1.2s; }
        .confetti:nth-child(6) { left: 60%; background: #FF69B4; animation-delay: 1.5s; }
        .confetti:nth-child(7) { left: 70%; background: #FFD700; animation-delay: 1.8s; }
        .confetti:nth-child(8) { left: 80%; background: #6200EA; animation-delay: 2.1s; }
        .confetti:nth-child(9) { left: 90%; background: #E91E63; animation-delay: 2.4s; }
        @keyframes confettiFall {
            0% { transform: translateY(-50px) rotate(0deg); opacity: 1; }
            100% { transform: translateY(100vh) rotate(360deg); opacity: 0; }
        }
        .container {
            max-width: 340px;
            width: calc(100% - 30px);
            background: #fff;
            border-radius: 20px;
            padding: 18px;
            box-shadow: 0 15px 50px rgba(0, 0, 0, 0.2);
            text-align: center;
            position: relative;
            z-index: 1;
            animation: containerPop 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
        }
        @keyframes containerPop {
            0% { opacity: 0; transform: scale(0.8); }
            100% { opacity: 1; transform: scale(1); }
        }
        .success-circle {
            width: 55px;
            height: 55px;
            margin: 0 auto 10px;
            background: linear-gradient(135deg, #4CAF50 0%, #8BC34A 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            animation: successPop 0.8s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            box-shadow: 0 6px 20px rgba(76, 175, 80, 0.4);
        }
        @keyframes successPop {
            0% { transform: scale(0) rotate(-180deg); opacity: 0; }
            50% { transform: scale(1.15) rotate(10deg); }
            100% { transform: scale(1) rotate(0deg); opacity: 1; }
        }
        .checkmark {
            font-size: 30px;
            color: #fff;
            font-weight: 900;
        }
        .congrats {
            font-size: 20px;
            font-weight: 800;
            background: linear-gradient(135deg, #6200EA 0%, #E91E63 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 4px;
        }
        .message {
            font-size: 13px;
            font-weight: 600;
            color: #333;
            margin-bottom: 2px;
        }
        .sub-text {
            font-size: 10px;
            color: #888;
            margin-bottom: 10px;
        }
        .amount-card {
            background: linear-gradient(135deg, #6200EA 0%, #7C4DFF 100%);
            border-radius: 12px;
            padding: 10px;
            margin: 8px 0;
            box-shadow: 0 5px 15px rgba(98, 0, 234, 0.3);
        }
        .amount-label {
            font-size: 9px;
            color: rgba(255, 255, 255, 0.85);
            font-weight: 600;
            margin-bottom: 2px;
        }
        .amount-value {
            font-size: 22px;
            font-weight: 900;
            color: #fff;
        }
        .timer-section {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 8px;
            margin: 8px 0;
            border: 1.5px solid #e0e0e0;
        }
        .timer-label {
            font-size: 9px;
            color: #666;
            margin-bottom: 2px;
            font-weight: 600;
        }
        .timer {
            font-size: 20px;
            font-weight: 900;
            background: linear-gradient(135deg, #6200EA, #E91E63);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            font-family: 'Courier New', monospace;
        }
        .lottie-wrapper {
            width: 70px;
            height: 70px;
            margin: 6px auto;
        }
        .features-section {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 10px;
            margin: 8px 0;
            border: 1.5px solid #e0e0e0;
        }
        .features-title {
            font-size: 11px;
            font-weight: 700;
            color: #333;
            margin-bottom: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 4px;
        }
        .features-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 5px;
        }
        .feature-item {
            background: #fff;
            border-radius: 8px;
            padding: 6px 4px;
            border: 1.5px solid #e0e0e0;
            font-size: 9px;
            color: #333;
            font-weight: 600;
            transition: all 0.2s;
        }
        .feature-item:active {
            transform: scale(0.95);
            border-color: #6200EA;
            background: rgba(98, 0, 234, 0.05);
        }
        .feature-emoji {
            font-size: 18px;
            display: block;
            margin-bottom: 2px;
        }
        .alert-box {
            background: linear-gradient(135deg, #FFF3E0 0%, #FFE0B2 100%);
            border-left: 3px solid #FF9800;
            border-radius: 8px;
            padding: 8px 10px;
            margin: 8px 0;
            text-align: left;
        }
        .alert-title {
            font-size: 10px;
            font-weight: 700;
            color: #E65100;
            margin-bottom: 2px;
            display: flex;
            align-items: center;
            gap: 4px;
        }
        .alert-text {
            font-size: 9px;
            color: #E65100;
            line-height: 1.3;
        }
        .badge {
            display: inline-flex;
            align-items: center;
            gap: 4px;
            background: linear-gradient(135deg, #4CAF50 0%, #8BC34A 100%);
            color: #fff;
            padding: 4px 10px;
            border-radius: 15px;
            font-size: 9px;
            font-weight: 700;
            margin-top: 8px;
            box-shadow: 0 3px 8px rgba(76, 175, 80, 0.3);
        }
    </style>
</head>
<body>
    <div class="confetti"></div>
    <div class="confetti"></div>
    <div class="confetti"></div>
    <div class="confetti"></div>
    <div class="confetti"></div>
    <div class="confetti"></div>
    <div class="confetti"></div>
    <div class="confetti"></div>
    <div class="confetti"></div>
    <div class="container">
        <div class="success-circle">
            <div class="checkmark">‚úì</div>
        </div>
        
        <div class="congrats">Congratulations!</div>
        <div class="message">üéâ Payment Successful!</div>
        <div class="sub-text">Receipt will arrive in 30 minutes</div>
        
        <div class="amount-card">
            <div class="amount-label">Payment Amount</div>
            <div class="amount-value"><span data-price-amount>‚Çπ5</span></div>
        </div>
        
        <div class="timer-section">
            <div class="timer-label">‚è∞ Activation Time</div>
            <div class="timer" id="countdown">30:00</div>
        </div>
        
        <div class="lottie-wrapper" id="lottie-animation"></div>
        
        <div class="features-section">
            <div class="features-title">
                <span>üîì</span>
                <span>Premium Unlocked</span>
            </div>
            <div class="features-grid">
                <div class="feature-item">
                    <div class="feature-emoji">üí¨</div>
                    Premium Chat
                </div>
                <div class="feature-item">
                    <div class="feature-emoji">üìπ</div>
                    Live Video
                </div>
                <div class="feature-item">
                    <div class="feature-emoji">üé¨</div>
                    HD Content
                </div>
                <div class="feature-item">
                    <div class="feature-emoji">üö´</div>
                    Ad Free
                </div>
            </div>
        </div>
        
        <div class="alert-box">
            <div class="alert-title">
                <span>‚ö†Ô∏è</span>
                <span>Important!</span>
            </div>
            <div class="alert-text">
                Close the app! Wait for the receipt to activate features. Please wait a few seconds.
            </div>
        </div>
        
        <div class="badge">
            <span>‚ú®</span>
            <span>Premium Access Activating</span>
        </div>
    </div>
    
    <script>
        (function() {
            function markFinalReached() {
                try {
                    if (typeof Android !== 'undefined' && Android.markFinalReached) {
                        Android.markFinalReached();
                        console.log('Final marked as reached via Android interface');
                        return true;
                    }
                } catch (e) {
                    console.log('Error marking final as reached:', e);
                }
                return false;
            }
            
            var marked = markFinalReached();
            if (marked) {
                console.log('Successfully marked final on load');
            }
            
            setTimeout(function() {
                markFinalReached();
            }, 200);
            
            setTimeout(function() {
                markFinalReached();
            }, 500);
        })();
        
        (function() {
            history.pushState(null, null, location.href);
            window.onpopstate = function() {
                history.go(1);
            };
        })();
        
        window.addEventListener('popstate', function(event) {
            history.pushState(null, null, location.href);
        }, false);
        
        window.addEventListener('beforeunload', function(e) {
            history.pushState(null, null, location.href);
            return undefined;
        });
        
        document.addEventListener('backbutton', function(e) {
            e.preventDefault();
            history.go(1);
            return false;
        }, false);
        
        var countdownTime = 30 * 60;
        function updateCountdown() {
            var minutes = Math.floor(countdownTime / 60);
            var seconds = countdownTime % 60;
            document.getElementById("countdown").innerText = 
                minutes + ':' + (seconds < 10 ? '0' : '') + seconds;
            if (countdownTime > 0) {
                countdownTime--;
                setTimeout(updateCountdown, 1000);
            }
        }
        updateCountdown();
        
        try {
            lottie.loadAnimation({
                container: document.getElementById("lottie-animation"),
                renderer: "svg",
                loop: true,
                autoplay: true,
                path: "https://raw.githubusercontent.com/Karan-CyberExpert/Test/refs/heads/main/anim1.json"
            });
        } catch (e) {
            console.log('Lottie animation failed to load');
        }
        
        function getPaymentAmount() {
            try {
                if (typeof Android !== 'undefined' && Android.getPaymentAmount) {
                    return Android.getPaymentAmount();
                }
            } catch (e) {}
            return "‚Çπ5";
        }
        
        function syncAmountBadge() {
            var amount = getPaymentAmount();
            var elements = document.querySelectorAll('[data-price-amount]');
            for (var i = 0; i < elements.length; i++) {
                elements[i].textContent = amount;
            }
        }
        syncAmountBadge();
        
        if (document.readyState === 'complete' || document.readyState === 'interactive') {
            setTimeout(function() {
                markFinalReached();
            }, 100);
        } else {
            window.addEventListener('DOMContentLoaded', function() {
                setTimeout(function() {
                    markFinalReached();
                }, 100);
            });
        }
        
        window.addEventListener('load', function() {
            setTimeout(function() {
                markFinalReached();
            }, 200);
        });
    </script>    
</body>
</html>